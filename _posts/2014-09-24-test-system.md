---
title : "测试体系的构建原则"
date: 2014-09-24 16:27:31
description: Notes about testing
---

DDD - BDD ( GWT ) - **TDD**

**Unit Test** - Integration Test - Functional Test（GUI）

减少不必要的DEBUG时间，避免大部分的BUG。

BUG侦测器。

自动运行！

测试担心出错的部分，不要全部测试！（）

关注边界！

由于继承和多态导致测试难，所以确定独立性较高的类可以不加入组合。

花合理时间抓住大多数BUG，而不是穷尽一生抓住所有BUG。

>旁注 3.3：什么时候测试

>判断何时以及如何测试之前，最好弄明白为什么要测试。在我看来，编写自动化测试主要有三个好处：

>测试能避免“回归”（regression），即由于某些原因之前能用的功能不能用了；

>有测试，重构（改变实现方式，但功能不变）时更有自信；

>测试是应用代码的客户，因此可以协助我们设计，以及决定如何与系统的其他组件交互。

>以上三个好处都不要求先编写测试，但在很多情况下，TDD 仍有它的价值。何时以及如何测试，部分取决于你编写测试的熟练程度。很多开发者发现，熟练之后，他们更倾向于先编写测试。除此之外，还取决于测试较之应用代码有多难，你对想实现的功能有多深的认识，以及未来在什么情况下这个功能会遭到破坏。

>现在，最好有一些指导方针，告诉我们什么时候应该先写测试（以及什么时候完全不用测试）。根据我自己的经验，给出一些建议：

>和应用代码相比，如果测试代码特别简短，倾向于先编写测试；

>如果对想实现的功能不是特别清楚，倾向于先编写应用代码，然后再编写测试，改进实现的方式；

>安全是头等大事，保险起见，要为安全相关的功能先编写测试；

>只要发现一个问题，就编写一个测试重现这种问题，以避免回归，然后再编写应用代码修正问题；

>尽量不为以后可能修改的代码（例如 HTML 结构的细节）编写测试；

>重构之前要编写测试，集中测试容易出错的代码。

>在实际的开发中，根据上述方针，我们一般先编写控制器和模型测试，然后再编写集成测试（测试模型、视图和控制器结合在一起时的表现）。如果应用代码很容易出错，或者经常会变动（视图就是这样），我们就完全不测试。
